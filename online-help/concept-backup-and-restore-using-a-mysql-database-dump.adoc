---
permalink: online-help/concept-backup-and-restore-using-a-mysql-database-dump.html 
sidebar: sidebar 
keywords:  
summary: MySQLデータベースダンプバックアップは、システム障害やデータ損失が発生した場合に使用できるUnified Managerデータベースと構成ファイルのコピーです。バックアップはローカルにもリモートにも保存できますが、Unified Managerホストシステムとは別のリモートの場所を定義することを推奨します。 
---
= MySQL データベースダンプを使用したバックアップとリストア
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
MySQLデータベースダンプバックアップは、システム障害やデータ損失が発生した場合に使用できるUnified Managerデータベースと構成ファイルのコピーです。バックアップはローカルにもリモートにも保存できますが、Unified Managerホストシステムとは別のリモートの場所を定義することを推奨します。

[NOTE]
====
Linux サーバと Windows サーバに Unified Manager をインストールした場合のデフォルトのバックアップメカニズムは MySQL データベースダンプです。Red Hat Enterprise LinuxシステムまたはCentOS Linuxシステムでは、Unified Managerで多数のクラスタとノードを管理している場合、またはMySQLバックアップの完了に数時間かかる場合に、NetApp Snapshotのバックアップ方式を使用できます。

====
データベースダンプバックアップは、バックアップディレクトリ内の 1 つのファイルとデータベースリポジトリディレクトリ内の 1 つ以上のファイルで構成されます。バックアップディレクトリ内のファイルは非常に小さく、バックアップを再作成するために必要なデータベースリポジトリディレクトリ内のファイルへのポインタのみが含まれます。

データベースバックアップの初回生成時は、 1 つのファイルがバックアップディレクトリに作成され、フルバックアップファイルがデータベースリポジトリディレクトリに作成されます。次にバックアップを生成するときは、 1 つのファイルがバックアップディレクトリに作成され、フルバックアップファイルとの差分を含む増分バックアップファイルがデータベースリポジトリディレクトリに作成されます。追加のバックアップを作成すると、次の図に示すように、最大保持設定までこのプロセスが繰り返されます。

image::../media/database-backup.gif[データベースのバックアップ]

[NOTE]
====
これらの 2 つのディレクトリ内のバックアップファイルは、名前を変更したり削除したりしないでください。それらの処理を行うと、以降のリストア処理が失敗します。

====
バックアップファイルをローカルシステムに書き込む場合、完全なリストアを必要とするシステム問題があるときに使用できるように、バックアップファイルをリモートの場所にコピーするプロセスを開始する必要があります。

バックアップ処理を開始する前に、Unified Managerで整合性チェックが実行され、必要なすべてのバックアップファイルとバックアップディレクトリが存在し、書き込み可能であることが確認されます。また、バックアップファイルを作成できるだけの十分なスペースがシステムにあるかどうかも確認されます。

バックアップは、同じバージョンのUnified Managerにのみリストアできます。たとえば、Unified Manager 9.7で作成したバックアップは、Unified Manager 9.7のシステムにのみリストアできます。
